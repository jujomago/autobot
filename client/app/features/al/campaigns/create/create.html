<div class="extrappading">


<h3 class="title_section">Campaigns</h3>

<abx-message msg="$ctrl.message"/>
<form  name="formCampaign" novalidate class="custom_form form-horizontal" ng-submit="formCampaign.$valid && $ctrl.save()">
    <div class="form-group input" ng-class="{ 'has-error': formCampaign.campaignName.$invalid && formCampaign.$submitted }">
        <label class="control-label col-sm-2">NAME (*)</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="$ctrl.newCampaign.name" name="campaignName" required ng-minlength="5">
            <div ng-messages="formCampaign.campaignName.$error" ng-show="formCampaign.$submitted">
                <p ng-message="minlength">This field is too short</p>
                <p ng-message="required">This field is required</p>
            </div>
        </div>
    </div>
    <div class="form-group input">
        <label class="control-label col-sm-2">DESCRIPTION</label>
        <div class="col-sm-10">
            <input type="text"  class="form-control" ng-model="$ctrl.newCampaign.description" />
        </div>
    </div>
    <div class="form-group input">
        <label for="inputDesc" class="control-label col-sm-2">TYPE</label>
        <div class="col-sm-3">
            <div class="radio">
                <label>
                    <input type="radio" ng-model="$ctrl.newCampaign.type" value="outbound" ng-change="$ctrl.checkRadio()"> OutBound
                </label>
            </div>
        </div>
        <div class="col-sm-3">
            <div class="radio">
                <label>
                    <input type="radio" ng-model="$ctrl.newCampaign.type" value="inbound" ng-change="$ctrl.checkRadio()"> InBound
                </label>
            </div>
        </div>      
        <div class="col-sm-3">
            <div class="radio">
                <label>
                    <input type="radio" ng-model="$ctrl.newCampaign.type" value="autodial" ng-change="$ctrl.checkRadio()"> Autodial
                </label>
            </div>
        </div>
    </div>
    <div class="form-group input" ng-if="$ctrl.newCampaign.type!=='outbound'"  ng-class="{ 'has-error': formCampaign.campaignIVR.$invalid && formCampaign.$submitted }">
        <label for="inputMessage" class="control-label col-sm-2">DEFAULT IVR SCRIPT (*)</label>
        <div class="col-sm-10">
            <h4 ng-hide="$ctrl.loadingIVR===false" class="text-center"><span class="label label-success">Loading IVRScripts...</span></h4>
            <select  ng-show="$ctrl.loadingIVR===false" name="campaignIVR"  class="form-control"  ng-options="o.name for o in $ctrl.ivrScripts track by o.name"
                ng-model="$ctrl.newCampaign.ivrscript" required></select>
            <div ng-messages="formCampaign.campaignIVR.$error" ng-show="formCampaign.$submitted">
                <p ng-message="required">This field is required</p>
            </div>                

        </div>
    </div>
    <div class="form-group text-center">
        
            <button type="submit" class="btn btn-black" ng-disabled="$ctrl.SubmitText=='Saving...'">{{$ctrl.SubmitText}}</button>
            <button type="button" class="btn btn-black" ui-sref="ap.al.campaigns">Cancel</button>
        
    </div>
</form>
</div>  
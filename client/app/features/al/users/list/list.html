<div class="extrappading">
      <h3 class="title_section">Users</h3>

<abx-message msg="$ctrl.message"></abx-message> 

<h4 ng-show="$ctrl.usersList.length===0 " class="text-center ">
    <span class="label label-success ">Loading ...</span>
</h4>
<div ng-hide="$ctrl.usersList.length===0">
    
    <div class="mywell">
        <div class="searchbox_container">
             
              <input type="search" ng-model="$ctrl.search.userName" class="searchbox" placeholder="Search User Name" ng-change="$ctrl.filteringBySearch()">
               <span class="glyphicon glyphicon-search"></span>  
        </div>
        <button ui-sref="users.create " class="btn btn-black pull-right">New</button>
    </div>
    

    <table class="table table-striped">

            <thead>
          
                <th ng-click="$ctrl.sortColumn('id') " class="sortColumn">Id
                    <span class="glyphicon " ng-show="$ctrl.sortKey=='id' " ng-class="{ 'glyphicon-chevron-up':$ctrl.reverse,
'glyphicon-chevron-down':!$ctrl.reverse} "></span>
                </th>
                  <th ng-click="$ctrl.sortColumn( 'userName') " class="sortColumn">User Name
                    <span class="glyphicon " ng-show="$ctrl.sortKey=='userName' " ng-class="{ 'glyphicon-chevron-up':$ctrl.reverse,
'glyphicon-chevron-down':!$ctrl.reverse} "></span>
                </th>
                <th ng-click="$ctrl.sortColumn( 'firstName') " class="sortColumn">First Name
                    <span class="glyphicon " ng-show="$ctrl.sortKey=='firstName' " ng-class="{ 'glyphicon-chevron-up':$ctrl.reverse,
'glyphicon-chevron-down':!$ctrl.reverse} "></span>
                </th>
                <th ng-click="$ctrl.sortColumn( 'lastName') " class="sortColumn">Last Name
                    <span class="glyphicon " ng-show="$ctrl.sortKey=='lastName' " ng-class="{ 'glyphicon-chevron-up':$ctrl.reverse,
'glyphicon-chevron-down':!$ctrl.reverse} "></span>
                </th>
                <th ng-click="$ctrl.sortColumn( 'fullName') " class="sortColumn">Full Name
                    <span class="glyphicon " ng-show="$ctrl.sortKey=='fullName' " ng-class="{ 'glyphicon-chevron-up':$ctrl.reverse,
'glyphicon-chevron-down':!$ctrl.reverse} "></span>
                </th>              
                 <th ng-click="$ctrl.sortColumn( 'startDate') " class="sortColumn">Start Date
                    <span class="glyphicon " ng-show="$ctrl.sortKey=='startDate' " ng-class="{ 'glyphicon-chevron-up':$ctrl.reverse,
'glyphicon-chevron-down':!$ctrl.reverse} "></span>
                </th>
                 <th ng-click="$ctrl.sortColumn( 'active') " class="sortColumn">Active
                    <span class="glyphicon " ng-show="$ctrl.sortKey=='active' " ng-class="{ 'glyphicon-chevron-up':$ctrl.reverse,
'glyphicon-chevron-down':!$ctrl.reverse} "></span>
                </th>
                <th>
                    ACTIONS
                </th>
            </thead>
            <tbody>              
                <tr ng-repeat="item in ( $ctrl.filteredUsers=($ctrl.usersList | filter:$ctrl.search | limitTo:$ctrl.numPerPage:$ctrl.beginNext) | orderBy:$ctrl.sortKey:$ctrl.reverse)"
                           ng-class="{ 'danger' : $ctrl.toogleUserRow==$index} ">
                    <td>{{item.id}}</td>
                    <td>
                        <a href ng-click="$ctrl.getDetail(item)">
                            {{item.userName}}
                        </a>
                    </td>
                    <td>{{item.firstName}}</td>
                    <td>{{item.lastName}}</td>
                    <td>{{item.fullName}}</td>       
             
                    <td>{{item.startDate | date:"MM/dd/yyyy" }}</td>
                    <td>{{item.active}}</td>
                    <td  class="text-center">                        
               
                        <a href class="circle_delete" ng-click="$ctrl.deleteUser(item,$index)"  
                ng-hide="$ctrl.toogleUserRow==$index "></a>
                        <!--button class="btn btn-danger" ng-disabled="$ctrl.toogleUserRow==$index" ng-click="$ctrl.deleteUser(item,$index)" >
                            {{($ctrl.toogleUserRow == $index)?'Deleting ..':'Delete'}}
                        </button>
                        <button class="btn btn-info" ng-click="$ctrl.getDetail(item)">
                            Edit
                        </button-->
                    </td>
                </tr>
            </tbody>
        </table>

   <div class="mywell footer_table text-center">
   <label ng-show="!$ctrl.filteredUsers.length"  ng-if="$ctrl.search.userName">NO RESULTS</label>

    <label for="pull-left" ng-show="$ctrl.filteredUsers.length"  ng-if="$ctrl.search.userName">Showing {{$ctrl.filteredUsers.length}} results</label>


        <label class="pull-left" ng-if="!$ctrl.search.userName" >Showing {{$ctrl.beginNext+1}}-{{$ctrl.currentPage*$ctrl.numPerPage}} of {{$ctrl.totalItems}}</label>    
        <uib-pagination  ng-if="!$ctrl.search.userName"  total-items="$ctrl.totalItems " ng-model="$ctrl.currentPage " items-per-page="$ctrl.numPerPage
        " boundary-links="true "
        ng-change="$ctrl.pageChanged()" >
        </uib-pagination>
        <div class="pull-right">Show
            <select ng-model="$ctrl.numPerPage " ng-options="o as o for o in $ctrl.quantities ">
            </select> results per page
        </div>  
    </div>
</div>
</div>